# Chapter5 자료구조

1. [복잡도](#51-복잡도)
2. [선형 자료 구조](#52-선형-자료-구조)
3. [비선형 자료 구조](#53-비선형-자료-구조) - 이번 주차

# 5.3 비선형 자료 구조

일반적으로 **트리나 그래프**

## 5.3.1 그래프

**정점과 간선**으로 이루어진 자료 구조

전제 - 어떠한 곳에서 어떠한 곳으로 무언가를 통해 간다고 하자.

**정점 vertex** : 어떠한 곳

**간선 edge** : 무언가

**가중치** : 간선과 정점 사이에 드는 비용

outdegree : 정점으로 나가는 간선

indegree : 정점으로 들어오는 간선

#### 추가

- 자바에서 그래프를 구현하는 방식들

1. 인접 리스트 방식

- 그래프 정점마다 연결된 정점 리스트를 저장

```java
Map<Integer, List<Integer>> graph = new HashMap<>(); // 노드번호가 규칙적이지 않을 때 좋음
ArrayList<ArrayList<Integer>> graph = new ArrayList<>(); // 노드번호가 순차적일때 0~ 좋음
```

2. 인접 행렬 방식

- 정점이 N개라면, N\*N 크기의 2차원 배열로 저장

```java
int[][] graph;
```

## 5.3.2 트리

그래프 중 하나

**정점과 간선**으로 이루어져 있고

트리 구조로 배열된 **일종의 계층적 데이터의 집합**

### **트리의 구성**

**루트 노드** : 가장 위에 있는 노드

**내부 노드** : 루트 노드와 내부 노드 사이에 있는 노드

**리프 노드** : 자식 노드가 없는 노드

#### 특징

1. 부모, 자식 계층 구조를 가짐
2. v-1 = e라는 특징이 있음. 간선수 = 노드수 -1
3. 임의의 두 노드 사이의 경로는 '유일무이'하게 '존재'

### **이진트리**

자식의 노드 수가 두개 이하인 트리

**종류**

**`정이진트리`** : 자식 노드가 0 또는 두개인 이진 트리

**`완전이진트리`** : **왼쪽**에서부터 채워져 있는 이진 트리, 마지막 레벨을 제외하고는 모든 레벨이 완전히 채워져 있으며 마지막 레벨의 경우 왼쪽부터 채워져 있음

**`변질이진트리`** : 자식노드가 하나밖에 없는 이진 트리를 의미

**`포화이진트리`** : 모든 노드가 꽉 차 있는 이진 트리

**`균형이진트리`** : 왼쪽과 오른쪽 노드의 높이 차이가 1이하인 이진트리

### 이진탐색트리BST

오른쪽 하위 트리 → 노드 값보다 큰 값이 있는 노드만 포함

왼쪽 하위 트리 → 노드 값보다 작은 값이 들어 잇는 트리

보통 탐색에 O(log n)

최악의 경우 O(n)

### AVL 트리

최악의 경우 선형적인 트리가 되는것을 방지하고 스스로 균형을 잡는 이진탐색트리

두 자식 서브트리의 높이는 항상 최대 1만큼 차이난다는 특징 존재

탐색, 삽입, 삭제 모두 O(log n)

- 삽입, 삭제를 할 때마다 균형이 안 맞는 것을 맞추기 위해 트리 일부를 ㅗ인쪽 혹은 오른쪽으로 회전시키며 균형을 잡음

### 레드블랙트리

균형이진탐색트리

탐색, 삽입, 삭제 모두 O(log n)

각 노드는 빨간색 또는 검은색 색상을 나타내는 추가 비트를 저장해서, 삽입 및 삭제 중에 트리가 균형을 유지하도록 하는데 사용함.

규칙 : 모든 리프노드와 루트노드는 블랙이고, 어떤 노드가 레드이면 그 노드의 자식은 반드시 블랙이다.

#### 추가로 알아보기

- 자바 컬렉션 TreeSet / TreeMap
  - 내부적으로 RedBlack Tree 기반
  - 자동으로 정렬된 상태 유지
  - 삽입, 삭제, 탐색이 최적화되어 있음.

## 5.3.3 힙

**완전 이진 트리** 기반의 자료 구조

최소힙, 최대힙이 존재

해당 힙에 따라 특정한 특징을 지킨 트리

- 최대힙 : 루트 노드에 있는 키는 모든 자식에 있는 키 중에서 가장 커야 함. 또한, 각 노드의 자식 노드와의 관계도 이와 같은 특징이 재귀적으로 이루어져야함.
- 최소힙 : 최소힙에서 루트 노드에 있는 키는 모든 자식에 있는 키 주에서 최솟값이어야 함. 또한, 각 노드의 자식 노드와의 관계도 이와 같은 특징이 재귀적으로 이루어져야함.

힙에는 어떠한 값이 들어와도 특정 힙의 규칙을 지키게 만들어짐

**최대힙의 삽입**

힙에 새로운 요소가 들어오면 -> 새로운 노드를 힙의 마지막 노드에 이어서 삽입

이 새로운 노드를 부모 노드들과의 크기를 비교하며 교환해서 힙의 성질을 만족시킴

**최대힙의 삭제**

최대힙에서 최댓값은 루트 노드이므로 루트 노드가 삭제되고

그 이후 마지막 노드와 루트 노드를 스왑하여 또다시 스왑 등의 과정을 거쳐 재구성

> #### 추가로 알아보기 <br>
>
> 자바에서는 PriorityQueue를 이용해서 최소힙, 최대힙 둘다 만들 수 있다.
> PriorityQueue는 기본 최소힙

- 최소힙

```java
PriorityQueue<Integer> minHeap = new PriorityQueue<>();

minHeap.add(5);
minHeap.add(2);
minHeap.add(10);

System.out.println(minHeap.poll()); // 2 (가장 작은 값)
System.out.println(minHeap.poll()); // 5
System.out.println(minHeap.poll()); // 10
```

- 최대힙

```java
PriorityQueue<Integer> maxHeap = new PriorityQueue<>((a, b) -> b - a);
```

## 5.3.4 우선순위 큐

우선순위 큐 = 우선순위 대기열

대기열에서 우선순위가 높은 요소가 우선 순위가 낮은 요소들보다 먼저 제공되는 자료 구조

우선순위 큐는 힙을 기반으로 구현

기본 구현체가 힙 기반 (이진 최소 힙)

```java
PriorityQueue<Integer> pq = new PriorityQueue<>();
```

## 5.3.5 맵

레드 블랙 트리 자료구조 기반으로 형성

map<string, int> 형태로 구현한다

#### 추가

map 구현체마다 내부구조가 다른데, TreeMap이 RedBlack Tree 기반으로 되어있다!

**함수**

clear() - 맵에 있는 모든 요소 삭제

size() - 맵의 크기

erase() - 해당 키와 키에 매핑된 값을 지움

## 5.3.6 셋

특정 순서에 따라 고유한 요소를 저장하는 컨테이너

중복되는 요소 없음, 유니크한 값만 저장하는 자료 구조

## 5.3.7 해시 테이블

무한에 가까운 데이터들을 유한한 개수의 해시 값으로 매핑한 테이블

탐색 : O(1)

삽입 : O(1)

삭제 : O(1)
